
<form *ngIf="form" [formGroup]="form">
  <ng-container *ngFor="let controlTemplate of controlTemplates">

    <ng-container [ngSwitch]="controlTemplate.type">

      <!--Select input-->
      <ng-container *ngSwitchCase="'select'">

        <!--Field-->
        <mat-form-field class="field" appearance="outline">

          <!--Placeholder-->
          <mat-label>{{ 'input.' + controlTemplate.tk + '.placeholder' | translate }}</mat-label>

          <!--Select-->
          <mat-select [placeholder]="'input.' + controlTemplate.tk +'.placeholder' | translate"
                      [formControlName]="controlTemplate.name">
            <mat-option *ngFor="let element of controlTemplate.selectElements" [value]="element.value">
              {{ element.tk | translate}}
            </mat-option>
          </mat-select>

          <!--Errors-->
          <mat-error *ngIf="form.get(controlTemplate.name).invalid">
            <ng-container *ngFor="let errorTK of getErrorTKs(form.get(controlTemplate.name).errors)">
              {{ 'input.' + controlTemplate.tk + '.errors.' + errorTK | translate }}
            </ng-container>
          </mat-error>

        </mat-form-field>

      </ng-container>

      <!--Default input-->
      <ng-template ngSwitchDefault>

        <!--Field-->
        <mat-form-field class="field" appearance="outline">

          <!--Placeholder-->
          <mat-label>{{ 'input.' + controlTemplate.tk + '.placeholder' | translate }}</mat-label>

          <!--Input-->
          <input matInput
                 [type]="(controlTemplate.type ? controlTemplate.type : 'text')"
                 [formControlName]="controlTemplate.name" />

          <!--Errors-->
          <mat-error *ngIf="form.get(controlTemplate.name).invalid">
            <ng-container *ngFor="let errorTK of getErrorTKs(form.get(controlTemplate.name).errors)">
              {{ 'input.' + controlTemplate.tk + '.errors.' + errorTK | translate }}
            </ng-container>
          </mat-error>

        </mat-form-field>

      </ng-template>
    </ng-container>
    <br />
  </ng-container>
</form>
